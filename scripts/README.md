# –°–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó

–¶—ñ —Å–∫—Ä–∏–ø—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—é—Ç—å –ø—Ä–æ—Ü–µ—Å –∑–∞–º—ñ–Ω–∏ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É `[concept|e]` –Ω–∞ –Ω–æ–≤–∏–π `[Concept('concept','–ø–µ—Ä–µ–∫–ª–∞–¥')|e]`.

## üìù –î–æ—Å—Ç—É–ø–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

### 1. fix_any_file_universal.py
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑—ñ–±—Ä–∞–Ω—É –±–∞–∑—É –∑ 440+ –≤—ñ–¥–æ–º–∏—Ö –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ –∑ —É–∂–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
python3 fix_any_file_universal.py filename_l_english.yml
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ß–∏—Ç–∞—î –≤—Å—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏ (government, diplomacy, alerts, —Ç–æ—â–æ)
- –í–∏—Ç—è–≥—É—î –≤—Å—ñ `Concept('key','translation')` –∑ –Ω–∏—Ö
- –ó–∞—Å—Ç–æ—Å–æ–≤—É—î —Ü—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –¥–æ –≤–∞—à–æ–≥–æ —Ñ–∞–π–ª—É
- –ó–∞–∑–≤–∏—á–∞–π –ø–æ–∫—Ä–∏–≤–∞—î 50-80% –∫–æ–Ω—Ü–µ–ø—Ç—ñ–≤

**–í–∏—Ö—ñ–¥:**
```
üìö –ó—ñ–±—Ä–∞–Ω–æ 440 –≤—ñ–¥–æ–º–∏—Ö –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Ñ–∞–π–ª—ñ–≤
üîç –ó–Ω–∞–π–¥–µ–Ω–æ 598 —Å—Ç–∞—Ä–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ (150 —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö)
‚úì [country|e]: 19 –∑–∞–º—ñ–Ω ‚Üí '–∫—Ä–∞—ó–Ω–∞'
‚úì [war|e]: 7 –∑–∞–º—ñ–Ω ‚Üí '–≤—ñ–π–Ω–∞'
...
‚úÖ –ó—Ä–æ–±–ª–µ–Ω–æ 392 –∑–∞–º—ñ–Ω
üìä 598 ‚Üí 118 —Å—Ç–∞—Ä–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤
```

---

### 2. auto_translate_from_russian.py
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—î –∑ —Ä–æ—Å—ñ–π—Å—å–∫–æ–≥–æ —Ñ–∞–π–ª—É –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
python3 auto_translate_from_russian.py filename_l_english.yml
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ß–∏—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ä–æ—Å—ñ–π—Å—å–∫–∏–π —Ñ–∞–π–ª —ñ–∑ `/mnt/d/SteamLibrary/.../russian/`
- –í–∏—Ç—è–≥—É—î –≤—Å—ñ `Concept()` –∑ —Ä–æ—Å—ñ–π—Å—å–∫–æ–≥–æ
- –ü–µ—Ä–µ–∫–ª–∞–¥–∞—î —Ä–æ—Å—ñ–π—Å—å–∫—ñ —Å–ª–æ–≤–∞ –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ (—Å–ª–æ–≤–Ω–∏–∫ + —Ç—Ä–∞–Ω—Å–ª—ñ—Ç–µ—Ä–∞—Ü—ñ—è)
- –ó–∞—Å—Ç–æ—Å–æ–≤—É—î –ø–µ—Ä–µ–∫–ª–∞–¥–∏

**–°–ª–æ–≤–Ω–∏–∫:**
- "—Å—Ç—Ä–∞–Ω—ã" ‚Üí "–∫—Ä–∞—ó–Ω–∏"
- "–∞—Ä–º–∏–∏" ‚Üí "–∞—Ä–º—ñ—ó"
- "—Å–æ–≤–µ—Ç–∞" ‚Üí "—Ä–∞–¥–∏"
- —Ç–∞ —ñ–Ω—à—ñ...

**–í–∏—Ö—ñ–¥:**
```
üìö –í–∏—Ç—è–≥–Ω—É—Ç–æ 262 –∫–æ–Ω—Ü–µ–ø—Ç—ñ–≤ –∑ —Ä–æ—Å—ñ–π—Å—å–∫–æ–≥–æ —Ñ–∞–π–ª—É
üîç –ó–Ω–∞–π–¥–µ–Ω–æ 201 —Å—Ç–∞—Ä–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤
‚úÖ –ó—Ä–æ–±–ª–µ–Ω–æ 92 –∑–∞–º—ñ–Ω –∑ —Ä–æ—Å—ñ–π—Å—å–∫–æ–≥–æ —Ñ–∞–π–ª—É
üìä 201 ‚Üí 109 —Å—Ç–∞—Ä–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –∑–∞–ª–∏—à–∏–ª–æ—Å—å
```

---

### 3. fix_hints_with_icon.py
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –†–æ–∑—É–º–Ω–æ –∑—ñ—Å—Ç–∞–≤–ª—è—î –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∑ `_with_icon`, `_short` —Ç–∞ —ñ–Ω—à—ñ –ø–æ—Ö—ñ–¥–Ω—ñ —Ñ–æ—Ä–º–∏.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
python3 fix_hints_with_icon.py
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ß–∏—Ç–∞—î –≤—Å—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏
- –î–ª—è –∫–æ–∂–Ω–æ–≥–æ `[concept_with_icon|e]` —à—É–∫–∞—î –±–∞–∑–æ–≤–∏–π `concept`
- –Ø–∫—â–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–∫–ª–∞–¥ –±–∞–∑–æ–≤–æ–≥–æ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –π–æ–≥–æ
- –ü—Ä–∞—Ü—é—î –∑: `_with_icon`, `_short`, `_gc`, —Ç–æ—â–æ

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑—ñ—Å—Ç–∞–≤–ª–µ–Ω–Ω—è:**
- `market_with_icon` ‚Üí –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–∫–ª–∞–¥ –¥–ª—è `market`
- `country_with_icon` ‚Üí –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–∫–ª–∞–¥ –¥–ª—è `country`
- `wars_with_icon` ‚Üí –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–∫–ª–∞–¥ –¥–ª—è `wars`

---

## üîÑ –¢–∏–ø–æ–≤–∏–π —Ä–æ–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å

### –ö—Ä–æ–∫ 1: –ê–Ω–∞–ª—ñ–∑
```bash
cd "../main_menu/localization/english"

# –°–∫—ñ–ª—å–∫–∏ —Ç—Ä–µ–±–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏?
grep -o '\[[a-z_]*|e\]' your_file_l_english.yml | wc -l

# –Ø–∫—ñ –Ω–∞–π—á–∞—Å—Ç—ñ—à—ñ –∫–æ–Ω—Ü–µ–ø—Ç–∏?
grep -o '\[[a-z_]*|e\]' your_file_l_english.yml | sort | uniq -c | sort -rn | head -20
```

### –ö—Ä–æ–∫ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–∑–∞–ø—É—Å–∫–∞—Ç–∏ –ø–æ —á–µ—Ä–∑—ñ)
```bash
# –ï—Ç–∞–ø 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤—ñ–¥–æ–º—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏
python3 ../scripts/fix_any_file_universal.py your_file_l_english.yml

# –ï—Ç–∞–ø 2: –î–æ–ø–æ–≤–Ω–∏—Ç–∏ –∑ —Ä–æ—Å—ñ–π—Å—å–∫–æ–≥–æ
python3 ../scripts/auto_translate_from_russian.py your_file_l_english.yml

# –ï—Ç–∞–ø 3: –î–æ–¥–∞—Ç–∏ _with_icon –≤–∞—Ä—ñ–∞–Ω—Ç–∏
python3 ../scripts/fix_hints_with_icon.py
```

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–∏—à–∫—ñ–≤
```bash
# –©–æ –∑–∞–ª–∏—à–∏–ª–æ—Å—å?
grep -o '\[[a-z_]*|e\]' your_file_l_english.yml | wc -l

# –Ø–∫—ñ —Å–∞–º–µ?
grep -o '\[[a-z_]*|e\]' your_file_l_english.yml | sort -u
```

### –ö—Ä–æ–∫ 4: –†—É—á–Ω–µ –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è
–î–ª—è –∫–æ–Ω—Ü–µ–ø—Ç—ñ–≤ —â–æ –∑–∞–ª–∏—à–∏–ª–∏—Å—å (–∑–∞–∑–≤–∏—á–∞–π 0-50), –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `sed`:

```bash
sed -i \
"s/\[concept1|e\]/[Concept('concept1','–ø–µ—Ä–µ–∫–ª–∞–¥1')|e]/g; \
s/\[concept2|e\]/[Concept('concept2','–ø–µ—Ä–µ–∫–ª–∞–¥2')|e]/g" \
your_file_l_english.yml
```

### –ö—Ä–æ–∫ 5: –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
```bash
# –ú–∞—î –±—É—Ç–∏ 0
grep -o '\[[a-z_]*|e\]' your_file_l_english.yml | wc -l
```

---

## üõ†Ô∏è –í–∏–º–æ–≥–∏

- Python 3.6+
- –î–æ—Å—Ç—É–ø –¥–æ:
  - –†–æ–±–æ—á–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó: `/mnt/c/Users/.../ukrainian_localization/`
  - –†–æ—Å—ñ–π—Å—å–∫–æ—ó –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó: `/mnt/d/SteamLibrary/.../russian/`

---

## üìä –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

–¢–∏–ø–æ–≤–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—ñ—Å–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—Å—ñ—Ö 3 —Å–∫—Ä–∏–ø—Ç—ñ–≤:

| –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω | –ü—ñ—Å–ª—è –µ—Ç–∞–ø—É 1 | –ü—ñ—Å–ª—è –µ—Ç–∞–ø—É 2 | –ü—ñ—Å–ª—è –µ—Ç–∞–ø—É 3 | –ü—ñ—Å–ª—è —Ä—É—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ |
|----------------|---------------|---------------|---------------|---------------------|
| 500 —Ñ–æ—Ä–º–∞—Ç—ñ–≤   | 150 (70%)     | 50 (90%)      | 10-30 (94-98%)| 0 (100%)           |

**–ß–∞—Å –Ω–∞ —Ñ–∞–π–ª:** 5-15 —Ö–≤–∏–ª–∏–Ω (–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É)

---

## üí° –ü–æ—Ä–∞–¥–∏

1. **–ó–∞–≤–∂–¥–∏ –ø–æ—á–∏–Ω–∞—Ç–∏ –∑ fix_any_file_universal.py** - –Ω–∞–π–±—ñ–ª—å—à–µ –ø–æ–∫—Ä–∏—Ç—Ç—è
2. **–ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç** –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤ (—Ä—ñ–∑–Ω—ñ –≤—ñ–¥–º—ñ–Ω–∫–∏)
3. **–†–æ–±–∏—Ç–∏ backup** –ø–µ—Ä–µ–¥ –º–∞—Å–æ–≤–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏
4. **–¢–µ—Å—Ç—É–≤–∞—Ç–∏ –≤ –≥—Ä—ñ** –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—É

---

## üîç –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∞–π–ª:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —Ñ–∞–π–ª —ñ—Å–Ω—É—î
ls -la ../main_menu/localization/english/your_file_l_english.yml

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —ñ—Å–Ω—É—î —Ä–æ—Å—ñ–π—Å—å–∫–∏–π —Ñ–∞–π–ª
ls -la /mnt/d/SteamLibrary/steamapps/common/Europa\ Universalis\ V/game/main_menu/localization/russian/your_file_l_russian.yml
```

### –°–∫—Ä–∏–ø—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏—Ç—å:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É
file ../main_menu/localization/english/your_file_l_english.yml

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —î —Å—Ç–∞—Ä—ñ —Ñ–æ—Ä–º–∞—Ç–∏
grep -o '\[[a-z_]*|e\]' your_file_l_english.yml | head
```

### –ü–æ–º–∏–ª–∫–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è:
–í—Å—ñ —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –≤ UTF-8 –∑ BOM. –Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏:
```python
# –£ —Å–∫—Ä–∏–ø—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è: encoding='utf-8-sig'
# –¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–ª—è—î BOM
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- [PROJECT_STATUS.md](../.claude_docs/PROJECT_STATUS.md) - –ü–æ–≤–Ω–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É
- [TRANSLATION_GUIDE.md](../.claude_docs/TRANSLATION_GUIDE.md) - –ö–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–æ –∑ –ø–µ—Ä–µ–∫–ª–∞–¥—É
- [.claude](../.claude) - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Claude Code

---

**–í–µ—Ä—Å—ñ—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-14
