#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Ідеальний переклад units_l_russian.yml
Повна заміна ВСІХ російських слів на українські
"""

import re

# ПОВНИЙ російсько-український словник
FULL_DICT = {
    # Базові слова та фрази
    'Северной Британии': 'Північної Британії',
    'Полк Северной Британии': 'Полк Північної Британії',
    'Ирландии': 'Ірландії',
    'валлийский': 'валлійський',
    'восточнокентский': 'східнокентський',
    'Синие мундиры': 'Сині мундири',
    'Посполитое рушение': 'Посполите рушення',

    # Географічні назви та прикметники
    'Северной': 'Північної',
    'северной': 'північної',
    'южной': 'південної',
    'Южной': 'Південної',
    'восточной': 'східної',
    'Восточной': 'Східної',
    'западной': 'західної',
    'Западной': 'Західної',
    'средиземноморск': 'середземноморськ',
    'Средиземноморск': 'Середземноморськ',
    'иберийск': 'іберійськ',
    'Иберийск': 'Іберійськ',
    'генуэзск': 'генуезськ',
    'Генуэзск': 'Генуезськ',
    'итальянск': 'італійськ',
    'Итальянск': 'Італійськ',
    'каталонск': 'каталонськ',
    'Каталонск': 'Каталонськ',
    'испанск': 'іспанськ',
    'Испанск': 'Іспанськ',
    'португальск': 'португальськ',
    'Португальск': 'Португальськ',
    'французск': 'французськ',
    'Французск': 'Французськ',
    'английск': 'англійськ',
    'Английск': 'Англійськ',
    'шотландск': 'шотландськ',
    'Шотландск': 'Шотландськ',
    'ирландск': 'ірландськ',
    'Ирландск': 'Ірландськ',
    'валлийск': 'валлійськ',
    'Валлийск': 'Валлійськ',
    'немецк': 'німецьк',
    'Немецк': 'Німецьк',
    'голландск': 'голландськ',
    'Голландск': 'Голландськ',
    'шведск': 'шведськ',
    'Шведск': 'Шведськ',
    'польск': 'польськ',
    'Польск': 'Польськ',
    'венгерск': 'угорськ',
    'Венгерск': 'Угорськ',
    'османск': 'османськ',
    'Османск': 'Османськ',
    'персидск': 'перськ',
    'Персидск': 'Перськ',
    'арабск': 'арабськ',
    'Арабск': 'Арабськ',
    'турецк': 'турецьк',
    'Турецк': 'Турецьк',
    'греческ': 'грецьк',
    'Греческ': 'Грецьк',
    'византийск': 'візантійськ',
    'Византийск': 'Візантійськ',
    'африканск': 'африканськ',
    'Африканск': 'Африканськ',
    'китайск': 'китайськ',
    'Китайск': 'Китайськ',
    'корейск': 'корейськ',
    'Корейск': 'Корейськ',
    'японск': 'японськ',
    'Японск': 'Японськ',
    'индийск': 'індійськ',
    'Индийск': 'Індійськ',

    # Власні назви підрозділів (залишаю оригінальні назви, але перекладаю описи)
    'Экоссе': 'Екоссе',
    'Уэлч': 'Велч',
    'Ройял': 'Роял',
    'Барангой': 'Варангій',

    # Військові терміни - прикметники
    'боевой': 'бойовий',
    'боевая': 'бойова',
    'боевое': 'бойове',
    'боевые': 'бойові',
    'военный': 'військовий',
    'военная': 'військова',
    'военное': 'військове',
    'военные': 'військові',
    'пехотный': 'піхотний',
    'пехотная': 'піхотна',
    'пехотное': 'піхотне',
    'пехотные': 'піхотні',
    'кавалерийский': 'кавалерійський',
    'кавалерийская': 'кавалерійська',
    'кавалерийское': 'кавалерійське',
    'кавалерийские': 'кавалерійські',
    'артиллерийский': 'артилерійський',
    'артиллерийская': 'артилерійська',
    'артиллерийское': 'артилерійське',
    'артиллерийские': 'артилерійські',
    'рыцарский': 'лицарський',
    'рыцарская': 'лицарська',
    'рыцарское': 'лицарське',
    'рыцарские': 'лицарські',
    'вспомогательный': 'допоміжний',
    'вспомогательная': 'допоміжна',
    'вспомогательное': 'допоміжне',
    'вспомогательные': 'допоміжні',
    'транспортный': 'транспортний',
    'транспортная': 'транспортна',
    'транспортное': 'транспортне',
    'транспортные': 'транспортні',

    # Іменники військові
    'когорта': 'когорта',
    'отряд': 'загін',
    'Отряд': 'Загін',
    'отряда': 'загону',
    'отряду': 'загону',
    'отрядом': 'загоном',
    'отряде': 'загоні',
    'отрядов': 'загонів',
    'отрядах': 'загонах',
    'мундир': 'мундир',
    'мундиры': 'мундири',
    'гвардия': 'гвардія',
    'Гвардия': 'Гвардія',
    'гвардии': 'гвардії',
    'когорта': 'когорта',
    'легион': 'легіон',
    'легиона': 'легіону',
    'батальон': 'батальйон',
    'батальона': 'батальйону',
    'бригада': 'бригада',
    'бригады': 'бригади',
    'дивизия': 'дивізія',
    'дивизии': 'дивізії',
    'корпус': 'корпус',
    'Корпус': 'Корпус',
    'корпуса': 'корпусу',

    # Кораблі типи
    'галера': 'галера',
    'Галера': 'Галера',
    'галеры': 'галери',
    'галер': 'галер',
    'галере': 'галері',
    'галерой': 'галерою',
    'хольк': 'гольк',
    'Хольк': 'Гольк',
    'когг': 'ког',
    'Когг': 'Ког',
    'флейт': 'флейт',
    'Флейт': 'Флейт',
    'бриг': 'бриг',
    'Бриг': 'Бриг',
    'барк': 'барк',
    'Барк': 'Барк',
    'каравелла': 'каравела',
    'Каравелла': 'Каравела',
    'каравеллы': 'каравели',
    'каравелл': 'каравел',
    'каравелле': 'каравелі',
    'пинас': 'пінас',
    'Пинас': 'Пінас',
    'фрегат': 'фрегат',
    'Фрегат': 'Фрегат',
    'фрегата': 'фрегата',
    'фрегаты': 'фрегати',
    'фрегатов': 'фрегатів',
    'каракка': 'каракка',
    'Каракка': 'Каракка',
    'каракки': 'каракки',
    'каракк': 'каракк',
    'галеон': 'галеон',
    'Галеон': 'Галеон',
    'галеона': 'галеона',
    'галеоны': 'галеони',
    'галеонов': 'галеонів',
    'шебека': 'шебека',
    'Шебека': 'Шебека',
    'галеас': 'галеас',
    'Галеас': 'Галеас',
    'галеаса': 'галеаса',
    'двухпалубник': 'двопалубник',
    'Двухпалубник': 'Двопалубник',
    'трёхпалубник': 'трипалубник',
    'Трёхпалубник': 'Трипалубник',

    # Описи та характеристики
    'небольшой': 'невеликий',
    'небольшая': 'невелика',
    'небольшое': 'невелике',
    'небольшие': 'невеликі',
    'маленький': 'малий',
    'маленькая': 'мала',
    'маленькое': 'мале',
    'маленькие': 'малі',
    'крупный': 'великий',
    'крупная': 'велика',
    'крупное': 'велике',
    'крупные': 'великі',
    'мощный': 'потужний',
    'мощная': 'потужна',
    'мощное': 'потужне',
    'мощные': 'потужні',
    'длинный': 'довгий',
    'длинная': 'довга',
    'длинное': 'довге',
    'длинные': 'довгі',
    'короткий': 'короткий',
    'короткая': 'коротка',
    'короткое': 'коротке',
    'короткие': 'короткі',
    'высокий': 'високий',
    'высокая': 'висока',
    'высокое': 'високе',
    'высокие': 'високі',
    'низкий': 'низький',
    'низкая': 'низька',
    'низкое': 'низьке',
    'низкие': 'низькі',
    'широкий': 'широкий',
    'широкая': 'широка',
    'широкое': 'широке',
    'широкие': 'широкі',
    'узкий': 'вузький',
    'узкая': 'вузька',
    'узкое': 'вузьке',
    'узкие': 'вузькі',
    'толстый': 'товстий',
    'толстая': 'товста',
    'толстое': 'товсте',
    'толстые': 'товсті',
    'тонкий': 'тонкий',
    'тонкая': 'тонка',
    'тонкое': 'тонке',
    'тонкие': 'тонкі',

    # Дієслова та дії
    'используется': 'використовується',
    'используют': 'використовують',
    'используются': 'використовуються',
    'используемый': 'використовуваний',
    'используемая': 'використовувана',
    'используемые': 'використовувані',
    'применяется': 'застосовується',
    'применяют': 'застосовують',
    'применяются': 'застосовуються',
    'составляет': 'становить',
    'составляют': 'становлять',
    'представляет': 'являє',
    'представляют': 'являють',
    'является': 'є',
    'являются': 'є',
    'служит': 'служить',
    'служат': 'служать',
    'сражается': 'бореться',
    'сражаются': 'борються',
    'атакует': 'атакує',
    'атакуют': 'атакують',
    'защищает': 'захищає',
    'защищают': 'захищають',
    'обладает': 'має',
    'обладают': 'мають',
    'позволяет': 'дозволяє',
    'позволяют': 'дозволяють',
    'способен': 'здатний',
    'способна': 'здатна',
    'способно': 'здатне',
    'способны': 'здатні',
    'может': 'може',
    'могут': 'можуть',
    'должен': 'повинен',
    'должна': 'повинна',
    'должно': 'повинно',
    'должны': 'повинні',
    'находится': 'знаходиться',
    'находятся': 'знаходяться',
    'расположен': 'розташований',
    'расположена': 'розташована',
    'расположено': 'розташоване',
    'расположены': 'розташовані',

    # Прийменники та сполучники
    'из': 'з',
    'от': 'від',
    'до': 'до',
    'для': 'для',
    'при': 'при',
    'над': 'над',
    'под': 'під',
    'перед': 'перед',
    'после': 'після',
    'через': 'через',
    'между': 'між',
    'среди': 'серед',
    'вокруг': 'навколо',
    'около': 'біля',
    'внутри': 'всередині',
    'снаружи': 'зовні',
    'вместе': 'разом',
    'вместо': 'замість',
    'кроме': 'крім',
    'также': 'також',
    'тоже': 'теж',
    'либо': 'або',
    'или': 'або',
    'но': 'але',
    'однако': 'проте',
    'зато': 'зате',
    'поэтому': 'тому',
    'потому': 'тому',
    'так': 'так',
    'как': 'як',
    'чем': 'ніж',
    'если': 'якщо',
    'когда': 'коли',
    'где': 'де',
    'куда': 'куди',
    'откуда': 'звідки',
    'почему': 'чому',
    'зачем': 'навіщо',
    'сколько': 'скільки',

    # Займенники
    'этот': 'цей',
    'эта': 'ця',
    'это': 'це',
    'эти': 'ці',
    'тот': 'той',
    'та': 'та',
    'то': 'те',
    'те': 'ті',
    'такой': 'такий',
    'такая': 'така',
    'такое': 'таке',
    'такие': 'такі',
    'какой': 'який',
    'какая': 'яка',
    'какое': 'яке',
    'какие': 'які',
    'который': 'який',
    'которая': 'яка',
    'которое': 'яке',
    'которые': 'які',
    'весь': 'весь',
    'вся': 'вся',
    'всё': 'все',
    'все': 'всі',
    'каждый': 'кожен',
    'каждая': 'кожна',
    'каждое': 'кожне',
    'каждые': 'кожні',
    'любой': 'будь-який',
    'любая': 'будь-яка',
    'любое': 'будь-яке',
    'любые': 'будь-які',
    'свой': 'свій',
    'своя': 'своя',
    'своё': 'своє',
    'свои': 'свої',
    'наш': 'наш',
    'наша': 'наша',
    'наше': 'наше',
    'наши': 'наші',
    'ваш': 'ваш',
    'ваша': 'ваша',
    'ваше': 'ваше',
    'ваши': 'ваші',
    'их': 'їх',
    'него': 'нього',
    'нему': 'ньому',
    'ним': 'ним',
    'нём': 'ньому',

    # Числівники
    'один': 'один',
    'одна': 'одна',
    'одно': 'одне',
    'одни': 'одні',
    'два': 'два',
    'две': 'дві',
    'три': 'три',
    'четыре': 'чотири',
    'пять': "п'ять",
    'шесть': 'шість',
    'семь': 'сім',
    'восемь': 'вісім',
    'девять': "дев'ять",
    'десять': 'десять',
    'сто': 'сто',
    'тысяча': 'тисяча',

    # Часові слова
    'сейчас': 'зараз',
    'теперь': 'тепер',
    'всегда': 'завжди',
    'никогда': 'ніколи',
    'иногда': 'іноді',
    'часто': 'часто',
    'редко': 'рідко',
    'вчера': 'вчора',
    'сегодня': 'сьогодні',
    'завтра': 'завтра',
    'утром': 'вранці',
    'днём': 'вдень',
    'вечером': 'ввечері',
    'ночью': 'вночі',
    'рано': 'рано',
    'поздно': 'пізно',
    'скоро': 'скоро',
    'давно': 'давно',
    'недавно': 'недавно',
    'раньше': 'раніше',
    'позже': 'пізніше',
    'сначала': 'спочатку',
    'потом': 'потім',
    'затем': 'потім',
    'наконец': 'нарешті',
    'уже': 'вже',
    'ещё': 'ще',
    'больше': 'більше',
    'меньше': 'менше',
    'лучше': 'краще',
    'хуже': 'гірше',
}

def translate_line(line):
    """Перекласти один рядок повністю"""
    if not line.strip() or line.strip().startswith('#'):
        return line

    # Розбираємо рядок на ключ і значення
    match = re.match(r'^(\s*)([^:]+):\s*"(.+)"(.*)$', line.rstrip())
    if not match:
        return line

    indent, key, text, suffix = match.groups()

    # Перекладаємо текст
    original_text = text
    for ru, ua in FULL_DICT.items():
        # Заміна цілих слів
        text = re.sub(r'\b' + re.escape(ru) + r'\b', ua, text)

    # Повертаємо рядок
    if text != original_text:
        return f'{indent}{key}: "{text}"{suffix}\n'
    return line

def main():
    """Головна функція"""
    input_file = "/Users/furmonenko/Desktop/eu5-ukrainian-localization/main_menu/localization/english/units_l_english.yml"

    print("Довожу units_l_english.yml до ідеалу...")
    print("=" * 80)

    with open(input_file, 'r', encoding='utf-8-sig') as f:
        lines = f.readlines()

    translated_lines = []
    fixes = 0

    for i, line in enumerate(lines, 1):
        new_line = translate_line(line)
        translated_lines.append(new_line)
        if new_line != line:
            fixes += 1

        if i % 200 == 0:
            print(f"  Оброблено {i}/{len(lines)} рядків...")

    # Зберігаємо
    with open(input_file, 'w', encoding='utf-8-sig') as f:
        f.writelines(translated_lines)

    print("=" * 80)
    print(f"✓ Довершено!")
    print(f"  Виправлено рядків: {fixes}")
    print(f"  Збережено: {input_file}")

if __name__ == "__main__":
    main()
