# Інструкція: Відмінки для Game Concepts

## Проблема

В EU5 використовуються посилання на концепти гри типу `[army|e]`, `[location|e]`, `[fleet|e]` тощо.
Гра підставляє їх з файлу `game_concepts_l_english.yml` **завжди в називному відмінку**, незалежно від контексту.

**Приклад проблеми:**
```
❌ "дві або більше Армії зустрічаються в Локація"
```

## Рішення (за прикладом російської локалізації)

Російська локалізація використовує систему `Concept('key','текст у потрібному відмінку')|e`:

```
[Concept('army','армиям')|e]      - давальний: "армиям"
[Concept('location','районе')|e]  - місцевий: "районе"
[Concept('fleet','флота')|e]      - родовий: "флота"
```

## Українська система відмінків

### Називний відмінок (хто? що?)
Використовується автоматично через `[army|e]` з game_concepts файлу.
- Армія, Локація, Флот, Полк

### Родовий відмінок (кого? чого?)
```
[Concept('army','Армії')|e]
[Concept('location','Локації')|e]
[Concept('fleet','Флоту')|e]
[Concept('regiment','Полку')|e]
```

Приклад: "оборона **Локації**", "частина **Армії**"

### Давальний відмінок (кому? чому?)
```
[Concept('army','Армії')|e]
[Concept('location','Локації')|e]
[Concept('fleet','Флоту')|e]
```

Приклад: "допомога **Армії**", "наказ **Флоту**"

### Знахідний відмінок (кого? що?)
```
[Concept('army','Армію')|e]
[Concept('location','Локацію')|e]
[Concept('fleet','Флот')|e]
```

Приклад: "створити **Армію**", "завоювати **Локацію**"

### Орудний відмінок (ким? чим?)
```
[Concept('army','Армією')|e]
[Concept('location','Локацією')|e]
[Concept('fleet','Флотом')|e]
```

Приклад: "з **Армією**", "над **Локацією**", "керувати **Флотом**"

### Місцевий відмінок (на кому? на чому? де?)
```
[Concept('army','Армії')|e]
[Concept('location','Локації')|e]
[Concept('fleet','Флоті')|e]
```

Приклад: "у **Локації**", "на **Флоті**", "в **Армії**"

## Повна таблиця відмінків для основних концептів

| Концепт | Називний | Родовий | Давальний | Знахідний | Орудний | Місцевий |
|---------|----------|---------|-----------|-----------|---------|----------|
| **army** | Армія | Армії | Армії | Армію | Армією | Армії |
| **fleet/navy** | Флот | Флоту | Флоту | Флот | Флотом | Флоті |
| **location** | Локація | Локації | Локації | Локацію | Локацією | Локації |
| **regiment** | Полк | Полку | Полку | Полк | Полком | Полку |
| **ship** | Корабель | Корабля | Кораблю | Корабель | Кораблем | Кораблі |
| **country** | Країна | Країни | Країні | Країну | Країною | Країні |
| **province** | Провінція | Провінції | Провінції | Провінцію | Провінцією | Провінції |
| **war** | Війна | Війни | Війні | Війну | Війною | Війні |
| **battle** | Битва | Битви | Битві | Битву | Битвою | Битві |
| **siege** | Облога | Облоги | Облозі | Облогу | Облогою | Облозі |
| **character** | Персонаж | Персонажа | Персонажу | Персонажа | Персонажем | Персонажі |
| **ruler** | Правитель | Правителя | Правителю | Правителя | Правителем | Правителі |
| **stability** | Стабільність | Стабільності | Стабільності | Стабільність | Стабільністю | Стабільності |
| **manpower** | Людські ресурси | Людських ресурсів | Людським ресурсам | Людські ресурси | Людськими ресурсами | Людських ресурсах |
| **gold** | Золото | Золота | Золоту | Золото | Золотом | Золоті |
| **trade** | Торгівля | Торгівлі | Торгівлі | Торгівлю | Торгівлею | Торгівлі |

## Коли НЕ потрібно змінювати

- У назвах кнопок і заголовках (там називний відмінок правильний)
- Якщо це список понять (перелік через кому)
- У словнику термінів

## Приклади виправлення

### До:
```yml
battle_desc: "Two or more [army|e] meet in a [location|e]"
```

### Після (український переклад):
```yml
battle_desc: "Дві або більше [Concept('army','Армії')|e] зустрічаються в [Concept('location','Локації')|e]"
```

### До:
```yml
siege_desc: "An [army|e] attacks a [fort|e] in a [location|e]"
```

### Після:
```yml
siege_desc: "[Concept('army','Армія')|e] атакує [Concept('fort','Форт')|e] в [Concept('location','Локації')|e]"
```

## Алгоритм виправлення

1. Знайти текст з посиланнями типу `[army|e]`
2. Визначити, який відмінок потрібен у контексті речення
3. Замінити на `[Concept('army','Армії')|e]` з правильним відмінком
4. Перевірити, чи має сенс речення

## Файли, які потребують виправлення

Всі файли `.yml` у папці локалізації, які містять `[concept|e]` посилання:
- actions_l_english.yml
- buildings_l_english.yml
- character_interactions_l_english.yml
- country_interactions_l_english.yml
- war_overview_l_english.yml
- і багато інших...

## Примітка

Це велика робота, яку треба робити поступово при перекладі нових файлів або при виправленні існуючих.
Якщо файл ще не перекладений - одразу робити правильно з відмінками.
Якщо файл вже перекладений - виправляти поступово.
