#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Застосування ретельних ручних перекладів
Кожен переклад ретельно продуманий і написаний вручну
"""

import re

# Ручні переклади з ПОВНИМ контекстом
MANUAL_TRANSLATIONS = {
    # Генуезька галера - рядок 322-323
    'Генуэзская галера': 'Генуезька галера',

    # Італійський галеас - рядок 324
    'Итальянский галеас': 'Італійський галеас',

    # Каталонська галера - рядки 342-343
    'Каталонская галера': 'Каталонська галера',

    # Рання іберійська каравела - рядок 343-344
    'Рання иберийская каравела': 'Рання іберійська каравела',
    'иберийская каравела': 'іберійська каравела',

    # Каравела з прямими вітрилами - рядок 345
    'Каравела с прямыми парусами': 'Каравела з прямими вітрилами',

    # Ранній іберійський галеон - рядок 346-347
    'Ранній иберийский галеон': 'Ранній іберійський галеон',
    'Иберийский галеон': 'Іберійський галеон',
}

# Довгі описи - переклади повних речень
DESCRIPTION_TRANSLATIONS = {
    # Line 321 - n_traditional_galley_desc
    'Галеры различных форм тысячелетиями господствовали в морях. Многие корабелы, особливо на отдалённых верфях, до сих пор строят їх по традиционным технологиям, які передаются з поколения в поколение без существенных изменений.':
    'Галери різних форм тисячоліттями панували в морях. Багато корабелів, особливо на віддалених верфях, досі будують їх за традиційними технологіями, які передаються з покоління в покоління без істотних змін.',

    # Line 323 - n_genoese_galley_desc
    '$n_genoese_galley$ є основой одноимённого флоту. Она более довга и легка по сравнению с другими средиземноморскими галерами, тому превосходит їх в швидкості и грузоподъёмності, уступая им, проте, в манёвренности и прочности.':
    '$n_genoese_galley$ є основою однойменного флоту. Вона довша і легша порівняно з іншими середземноморськими галерами, тому перевершує їх у швидкості та вантажопідйомності, поступаючись їм, проте, у маневреності та міцності.',

    # Line 348 - n_barque_desc
    'Барк — це невеликий парусник, изначально призначений для торговли. В качестве военного корабля являє собою лёгкую и быструю альтернативу более крупным караккам.':
    'Барк — це невеликий вітрильник, спочатку призначений для торгівлі. Як військовий корабель являє собою легку та швидку альтернативу більшим караккам.',

    # Line 349 - n_brig_desc
    'Бриг — це невеликий корабель, пригодный як для торговли, так и для війни. Его характерной особенностью є дві щогли с прямым парусным снаряжением. В военном варианте он несёт на борту від 10 до 18 орудий, але его ценят не за огневую мощь, а за швидкість и манёвренность. К тому же завдяки прямым парусам бриг идеально подходит для долгих переходов в условиях пассатных ветров.':
    'Бриг — це невеликий корабель, придатний як для торгівлі, так і для війни. Його характерною особливістю є дві щогли з прямим вітрильним оснащенням. У військовому варіанті він несе на борту від 10 до 18 гармат, але його цінують не за вогневу міць, а за швидкість та маневреність. До того ж завдяки прямим вітрилам бриг ідеально підходить для довгих переходів в умовах пасатних вітрів.',

    # Line 350 - n_caravel_desc
    'Каравела — це невелике и дуже манёвренное судно, яке здатне с высокой точностью держать курс во час долгих экспедиций. Они можуть різнитися по конструкції, але в їх парусную оснастку завжди входит фок, прямой грот и латинская бизань. Из-за небольших размеров каравела несёт ограниченное число орудий, але ця же особенность дозволяє ей заходить на прибережне мелководье и в устья рек. В конце XV — начале XVI века каравели участвовали в экспедициях Васко да Гамы, Кабота, Колумба и Магеллана.':
    'Каравела — це невелике та дуже маневрене судно, яке здатне з високою точністю тримати курс під час довгих експедицій. Вони можуть різнитися за конструкцією, але в їх вітрильне оснащення завжди входить фок, прямий грот і латинська бізань. Через невеликі розміри каравела несе обмежену кількість гармат, але ця ж особливість дозволяє їй заходити на прибережне мілководдя та в гирла річок. Наприкінці XV — на початку XVI століття каравели брали участь в експедиціях Васко да Гами, Кабота, Колумба та Магеллана.',

    # Line 351 - n_carrack_desc
    'Каракка — це корабель позднего Средневековья, объединивший в себе черты германских драккаров и арабских торговых судов. Уступая каравелі в манёвренности, каракка превосходит её в размерах, что дозволяє брать на борт більше провианта для долгих переходов, товаров для торговли и гармат для обороны. Так, английская каракка «Генри Грейс э\'Дью» с высокими надстройками на носу и корме была признана одним з самых крупных боевых кораблів своего времени и обладала водоизмещением более 1000 тонн.':
    'Каракка — це корабель пізнього Середньовіччя, який об\'єднав у собі риси германських драккарів та арабських торгових суден. Поступаючись каравелі у маневреності, каракка перевершує її у розмірах, що дозволяє брати на борт більше провіанту для довгих переходів, товарів для торгівлі та гармат для оборони. Так, англійська каракка «Генрі Грейс е\'Дью» з високими надбудовами на носі та кормі була визнана одним з найбільших бойових кораблів свого часу і мала водотоннажність понад 1000 тонн.',

    # Line 352 - n_fishing_boat_desc
    'Небольшие и слабо защищённые лодки, на яких работают рыбаки. Могут служить примитивным транспортом для перевезення військ. Применяя їх для этой мети, важно следить, чтобы они не попадали під пушечные выстрелы.':
    'Невеликі та слабко захищені човни, на яких працюють рибалки. Можуть служити примітивним транспортом для перевезення військ. Використовуючи їх для цієї мети, важливо стежити, щоб вони не потрапляли під гарматні постріли.',

    # Line 353 - n_hulk_desc
    'Гольк — це тип европейських кораблів, від которого произошли каракки и каравели. Он появился на территории исторических Нидерландов и использовался прежде всього для перевезення грузов по рекам, але іноді и в военных целях. Гольк, оборудованный одной мачтой с прямым парусом, а також надстройками на носу и корме, мог тягаться с коггом в грузоподъёмності, а також був основним торговим судном Ганзейського союза.':
    'Гольк — це тип європейських кораблів, від якого походять каракки та каравели. Він з\'явився на території історичних Нідерландів і використовувався передусім для перевезення вантажів річками, але іноді й у військових цілях. Гольк, обладнаний однією щоглою з прямим вітрилом, а також надбудовами на носі та кормі, міг змагатися з когом у вантажопідйомності, а також був основним торговим судном Ганзейського союзу.',

    # Line 354 - n_cog_desc
    'Ког був одним з самых массовых типів небольших судов в середньовічній Європі. Він являє собою розвиток торгової ладьи вікінгів і оборудован одной мачтой с прямым парусом, а також обшит досками внакрой. Благодаря своей конструкції він підходить для вод Північної Атлантики намного краще середземноморських кораблів, а проста оснастка дозволяє обходиться меньшим экипажем. Когги широко использовались Ганзейським союзом, пока им на смену не пришли хольки.':
    'Ког був одним з наймасовіших типів невеликих суден у середньовічній Європі. Він являє собою розвиток торгової ладії вікінгів і обладнаний однією щоглою з прямим вітрилом, а також обшитий дошками внакрой. Завдяки своїй конструкції він підходить для вод Північної Атлантики набагато краще середземноморських кораблів, а просте оснащення дозволяє обходитися меншим екіпажем. Коги широко використовувалися Ганзейським союзом, поки їх не змінили гольки.',

    # Line 355 - n_early_carrack_desc
    'Рання каракка стала первим европейським кораблём, пригодним для навігації в відкритих водах Атлантики. Конструкція цього позднесередньовічного судна об\'єднала в собі черты германських драккаров і арабських торгових судов. Уступая каравелі в манёвренності, каракка превосходит її в розмірах, що дозволяє брать на борт більше провианта для долгих переходів, товарів для торгівлі і гармат для обороны.':
    'Рання каракка стала першим європейським кораблем, придатним для навігації у відкритих водах Атлантики. Конструкція цього пізньосередньовічного судна об\'єднала у собі риси германських драккарів та арабських торгових суден. Поступаючись каравелі у маневреності, каракка перевершує її у розмірах, що дозволяє брати на борт більше провіанту для довгих переходів, товарів для торгівлі та гармат для оборони.',

    # Line 356 - n_pinnace_desc
    'С развитием морської торгівлі виникла потреба в швидкому кораблі для охорони торгових судов. $n_pinnace$ создан як раз для цієї мети: цей невеликий манёвренний корабель з однією гарматною палубою здатний дать відсіч піратам в опасних водах.':
    'З розвитком морської торгівлі виникла потреба у швидкому кораблі для охорони торгових суден. $n_pinnace$ створений якраз для цієї мети: цей невеликий маневрений корабель з однією гарматною палубою здатний дати відсіч піратам у небезпечних водах.',

    # Line 357 - n_eastindiaman_desc
    '«Ост-индийцами» называют всі судна ост-індських торгових компаній любих держав. Вони будуються передусім в розрахунку на максимальну вантажопідйомність і здатні перевозити як товари, так і пасажирів. «Ост-індійці» обладнані гарматами для захисту від піратів, тому можуть вступити в бій, але їх основним призначенням завжди була торгівля.':
    '«Ост-індійцями» називають усі судна ост-індійських торгових компаній будь-яких держав. Вони будуються передусім з розрахунку на максимальну вантажопідйомність і здатні перевозити як товари, так і пасажирів. «Ост-індійці» обладнані гарматами для захисту від піратів, тому можуть вступити в бій, але їхнім основним призначенням завжди була торгівля.',

    # Line 358 - n_flute_desc
    'Этот тип торгових судов появився в XVI столітті в Нідерландах і створений з розрахунку на максимальну вместимость грузового трюму і ефективність команди. В XVI–XVII століттях він став одним з найпоширеніших типів кораблів в Європі. Зазвичай вони не мали озброєння, але при необходимості їх оснащали гарматами і використовували як допоміжні судна в бою.':
    'Цей тип торгових суден з\'явився у XVI столітті в Нідерландах і створений з розрахунку на максимальну місткість вантажного трюму та ефективність команди. У XVI–XVII століттях він став одним з найпоширеніших типів кораблів у Європі. Зазвичай вони не мали озброєння, але за необхідності їх оснащали гарматами і використовували як допоміжні судна в бою.',
}

def apply_translations(filepath):
    """Застосувати всі ретельно підготовлені переклади"""
    with open(filepath, 'r', encoding='utf-8-sig') as f:
        content = f.read()

    changes = 0

    # Спочатку застосувати короткі переклади
    for ru, ua in MANUAL_TRANSLATIONS.items():
        if ru in content:
            content = content.replace(ru, ua)
            changes += 1
            print(f"✓ {ru} → {ua}")

    # Потім застосувати довгі описи
    for ru, ua in DESCRIPTION_TRANSLATIONS.items():
        if ru in content:
            content = content.replace(ru, ua)
            changes += 1
            print(f"✓ Переклав опис (перші 50 символів): {ru[:50]}...")

    # Зберігаємо
    with open(filepath, 'w', encoding='utf-8-sig') as f:
        f.write(content)

    print(f"\n✓ Застосовано {changes} ручних перекладів")

if __name__ == "__main__":
    filepath = "/Users/furmonenko/Desktop/eu5-ukrainian-localization/main_menu/localization/english/units_l_english.yml"
    apply_translations(filepath)
